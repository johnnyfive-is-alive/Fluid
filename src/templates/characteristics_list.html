{% extends 'base.html' %}
{% block content %}
<!-- Header with add button -->
<div class="d-flex justify-content-between align-items-center mb-3">
<h2>Item Characteristics</h2>
<a href="{{ url_for('characteristics.add_form') }}" class="btn btn-primary">
<i class="bi bi-plus"></i> Add New Characteristic
</a>
</div>

<!-- Characteristics table -->
<div class="table-responsive">
<table class="table table-striped table-hover">
<thead class="table-dark">
<tr>
<th>ID</th>
<th>Item</th>
<th>Key</th>
<th>Value</th>
<th>Value Type</th>
<th>Actions</th>
</tr>
</thead>
<tbody>
{% if characteristics %}
{% for char in characteristics %}
<tr>
<td>{{ char['id'] }}</td>
<td>
<span class="badge bg-secondary">{{ char['fkitem'] }}</span>
<strong>{{ char['itemname'] }}</strong>
</td>
<td><code>{{ char['itemkey'] }}</code></td>
<td>{{ char['itemvalue'] }}</td>
<td>
{% if char['itemkeyvaluetype'] %}
<span class="badge bg-info">{{ char['itemkeyvaluetype'] }}</span>
{% else %}
<span class="text-muted">-</span>
{% endif %}
</td>
<td>
<!-- Edit button -->
<a href="{{ url_for('characteristics.edit_form', id=char['id']) }}" 
   class="btn btn-sm btn-outline-primary">Edit</a>
<!-- Delete button with confirmation -->
<form method="post" action="{{ url_for('characteristics.delete_characteristic', id=char['id']) }}" 
      style="display:inline;"
      onsubmit="return confirm('Delete characteristic \'{{ char['itemkey'] }}\' from {{ char['itemname'] }}?');">
<button type="submit" class="btn btn-sm btn-outline-danger">Delete</button>
</form>
</td>
</tr>
{% endfor %}
{% else %}
<tr>
<td colspan="6" class="text-center text-muted">
No characteristics found. Add some to describe your items!
</td>
</tr>
{% endif %}
</tbody>
</table>
</div>

<!-- Info card -->
<div class="card mt-4">
<div class="card-body">
<h5 class="card-title">About Characteristics</h5>
<p class="card-text">
Characteristics are key-value pairs that describe properties of items. 
For example, a Station might have characteristics like "Location: Lab A" or "Capacity: 500".
Each item can have multiple characteristics, but each key must be unique per item.
</p>
</div>
</div>
{% endblock %}