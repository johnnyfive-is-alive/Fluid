{% extends 'base.html' %}
{% block content %}
<h2 class="mb-3">Add New Item</h2>

<!-- Add form -->
<div class="card">
<div class="card-body">
<form method="post" action="{{ url_for('items.add_item') }}">
<div class="mb-3">
<label for="itemname" class="form-label">Item Name</label>
<input type="text"
       class="form-control"
       id="itemname"
       name="itemname"
       placeholder="e.g., Station A, Pump 101, Resource X"
       required>
<div class="form-text">
Enter a descriptive name for the item. Must be unique.
</div>
</div>

<div class="mb-3">
<label for="fkitemtype" class="form-label">Item Type</label>
<select class="form-select" id="fkitemtype" name="fkitemtype" required>
<option value="" selected disabled>Choose a type...</option>
{% for it in itemtypes %}
<option value="{{ it['id'] }}">{{ it['typename'] }}</option>
{% endfor %}
</select>
<div class="form-text">
Select what category this item belongs to.
{% if not itemtypes %}
<span class="text-danger">No types available! Create an item type first.</span>
{% endif %}
</div>
</div>

<!-- Action buttons -->
<button type="submit" class="btn btn-primary" {% if not itemtypes %}disabled{% endif %}>
Add Item
</button>
<a href="{{ url_for('items.list_items') }}" class="btn btn-secondary">Cancel</a>

{% if not itemtypes %}
<div class="mt-3">
<a href="{{ url_for('itemtypes.add_form') }}" class="btn btn-warning">
Create Item Type First
</a>
</div>
{% endif %}
</form>
</div>
</div>
{% endblock %}