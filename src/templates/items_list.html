{% extends 'base.html' %}
{% block content %}
<!-- Header with add button -->
<div class="d-flex justify-content-between align-items-center mb-3">
<h2>Items</h2>
<a href="{{ url_for('items.add_form') }}" class="btn btn-primary">
<i class="bi bi-plus"></i> Add New Item
</a>
</div>

<!-- Items table -->
<div class="table-responsive">
<table class="table table-striped table-hover">
<thead class="table-dark">
<tr>
<th>ID</th>
<th>Item Name</th>
<th>Type</th>
<th>Actions</th>
</tr>
</thead>
<tbody>
{% if items %}
{% for item in items %}
<tr>
<td>{{ item['id'] }}</td>
<td><strong>{{ item['itemname'] }}</strong></td>
<td>
<span class="badge bg-info">{{ item['typename'] }}</span>
</td>
<td>
<!-- Edit button -->
<a href="{{ url_for('items.edit_form', id=item['id']) }}"
   class="btn btn-sm btn-outline-primary">Edit</a>
<!-- Delete button with confirmation -->
<form method="post" action="{{ url_for('items.delete_item', id=item['id']) }}"
      style="display:inline;"
      onsubmit="return confirm('Delete item \'{{ item['itemname'] }}\'? This will also delete all characteristics and loading data for this item!');">
<button type="submit" class="btn btn-sm btn-outline-danger">Delete</button>
</form>
</td>
</tr>
{% endfor %}
{% else %}
<tr>
<td colspan="4" class="text-center text-muted">
No items found. Add one to get started!
</td>
</tr>
{% endif %}
</tbody>
</table>
</div>

<!-- Summary stats -->
<div class="card mt-4">
<div class="card-body">
<h5 class="card-title">Total Items: {{ items|length }}</h5>
<p class="card-text">
Items represent the entities you're tracking (stations, resources, units, etc.).
Each item belongs to a type and can have characteristics and loading percentages.
</p>
</div>
</div>
{% endblock %}